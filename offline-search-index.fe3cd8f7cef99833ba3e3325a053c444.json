









































[{"body":"What you’ll learn This guide is focused on performing basic calibration for your LumenPnP.\nWhat you’ll need  A LumenPnP with the mechanical and electrical build completed. Read through the OpenPnP Wiki. It’ll be super important to getting going with your machine. These docs are meant to augment the OpenPnP docs, not replace them.  ","categories":"","description":"Connect your LumenPnP to OpenPNP and perform basic calibration.\n","excerpt":"Connect your LumenPnP to OpenPNP and perform basic calibration.\n","ref":"/openpnp/calibration/","tags":"","title":"Calibration"},{"body":"  First off, you need OpenPnP installed on your machine! Make sure to download OpenPnP 2.0 for your machine. OpenPNP 2.0\n  From here, you could set up your machine from scratch using the OpenPnP Wiki, but we’ve done a lot of the hard work for you and made a configuration file that has all of the transferrable configuration already set to go. Among the assets included in your Build Number’s Release, download Source Code (zip), unzip it, and then open the openpnp folder to find the premade configuration files.\n  Now it’s time to import the default configuration for your LumenPnP. OpenPnP saves configuration files in different places depending on your operating system. This folder has a period in front of its name, meaning it’s hidden! The folder is still there, it just won’t show up in your file explorer. You might need to do something with your settings to get it to show up. If you’re on Windows, click here for instructions, and here if you’re on Mac.\n  The information below about how to find the config files directory on your computer is pulled from the OpenPnP Wiki.\n Configuration files are located in your home directory, under a subdirectory called .openpnp2.\nOn Mac this will typically be /Users/[username]/.openpnp2.\nOn Windows 2000, XP and 2003 it will be C:\\Documents and Settings[username].openpnp2.\nOn Windows Vista and above it’s C:\\Users[username].openpnp2.\nConfiguration files are in XML format and can be edited by hand in a text editor. You should shutdown OpenPnP before editing files by hand as OpenPnP will rewrite the configuration files on exit.\nThere are three primary configuration files. They are:\nmachine.xml: Contains the primary configuration for the entire system, including information about the machine, cameras, feeders, nozzles, etc.\nparts.xml: A portable parts database. As you define parts (components) in OpenPnP they are stored here.\npackages.xml: A portable packages database. Component package information including shape and dimensions are stored here.\n Once you’ve found your .openpnp2 folder, drop the machine.xml, parts.xml, and packages.xml files into it. If you already have parts and packages configured from previous usage of OpenPnP, you can just drop in the machine.xml file.\n","categories":"","description":"Install OpenPNP and import default config\n","excerpt":"Install OpenPNP and import default config\n","ref":"/openpnp/calibration/import-config/","tags":"","title":"Importing Config Files"},{"body":"There are five types of connectors that need to be soldered into your motherboard. We’ll go over each one, and how to solder them in place.\n     Screw Terminal In your connector bag you’ll find a screw terminal connector. This provides power to the machine, and goes into the J12 footprint on the upper-right corner of the board. Ensure that the openings that accept the power cables are facing outwards.\n  IDC Connectors The IDC connectors are the larger, black connectors in your connector bag. There are only two sizes, a 2x3 for feeder communication, and three 2x6 for the auxillary ports. Be sure to solder them the correct orientation. The slot on the connector should match up with the silkscreen.\n     JST XH Connectors The bulk of the connectors on the board are JST XH connectors. These come in two, three, and four pin variations. The two pin connectors are for the mosfets, the three pin connectors are for the servos, limit switches, and ring lights, and the four pin connectors are for the stepper motors.\nWARNING The 4-pin JST XH connector for the Y2 motor (the one right next to the Y silkscreen indicator) needs to be rotated 180 degrees from what the silkscreen dictates. This one should be soldered in reverse, opposite of the silkscreen indication. Refer to the image below for reference.           USB A Connectors There are three USB A connectors that need to be soldered into the board as well. Two of these are for the webcams, and the third is for future functionality. We recommend soldering the large structural tabs in place first, then soldering the four data pins afterward.\n  Stepper Motor Driver Headers The last connectors that need to be soldered into the board are the 1x8 Dupont 0.1\" headers for the stepper motor drivers. Two connectors need to be soldered for each driver. We recommend soldering a single pin in place first while getting the connector to stay flat, then do the rest of the pins after the orientation is solidified. Orientation does not matter for these connectors.\n  ","categories":"","description":"Instructions about how to install the THT components into a LumenPnP Motherboard","excerpt":"Instructions about how to install the THT components into a LumenPnP …","ref":"/docs/motherboard/installing-tht/","tags":"","title":"Install THT Components"},{"body":"   Qty Part     1 Y1 Cable Harness (Labeled Y1)   1 Y2 Cable Harness (Labeled Y2)   4 Zip Tie   4 FDM-0016 (Cable Clip)   3 FDM-0023 (Cable Clamp)   3 M3x14 machine screw   3 M3 Hex Nut    The left and right Y motors are connected to the motherboard using the cable harnesses Y1 and Y2, respectively. Grab these from your bundle of cables.\n  Start by plugging in the unlabeled end of the cables into the Y motors. Y1 goes to the left Y motor, and Y2 goes to the right Y motor.       Use four zip ties to secure the wires in place using the channels in the back legs as shown below.         Next, put your LumenPnP up on its haunches, and route the cables along the inside groove of the extrusion extrusions running towards the front of the machine. Use Cable ClipsFDM-0016 to hold the cables in place along the extrusions.       Use three Cable ClampsFDM-0023, three M3x14mm bolts, and three M3 nuts to hold the right side cable on the staging plate and route it towards the motherboard neatly.         Route the cables underneath the motherboard for now; we’ll plug them in in a later step.\n  ","categories":"","description":"Routing and connecting the Y motor cables \n","excerpt":"Routing and connecting the Y motor cables \n","ref":"/docs/wiring-and-pneumatics/wiring-y-motors/","tags":"","title":"Wiring the Y Motors"},{"body":"Congratulations! Your machine now has basic calibration complete. There are still many metrics to tweak and adjust as you go through the process of placing your first board. OpenPnP is a large and complex piece of software, and it will take time to get used to it.\nThe following links are OpenPnP documentation pages that will help you confirm that your calibration is complete and accurate, and get a job loaded up and running.\n  Issues and Solutions\n OpenPnP has a wonderful “Issues and Solutions” tab that will help you further calibrate your LumenPnP. It’s highly recommended that you complete the “Calibrations Milestone” prior to using your LumenPnP in production, and that you explore all of the edits that it recommends you make.    Job Setup\n This is an incredibly useful document, illustrating the difference between parts, packages, and placements, and how to import information about your parts into the software. It shows the UI and explains what lots of things do, along with walking you through setting up a job. There’s also information about setting up feeders. We recommend using the ReferenceTrayFeeder and ReferenceStripFeeder. Soon we’ll have our own powered feeder for the LumenPnP, which will have a selectable feeder type in OpenPnP, but that’s still to come.    And you’re off to the races! We’d love if you let us know how calibration went (the form takes less than a minute). We want to make it as easy as possible to get going with a LumenPnP, and your feedback helps us do that.\nOpenPnP Setup Survey Here ","categories":"","description":"Next Steps\n","excerpt":"Next Steps\n","ref":"/openpnp/next-steps/","tags":"","title":"Next Steps"},{"body":"Getting The Parts Alright, time to get the parts we need to print! Read the information about picking your Build Number on the “LumenPnP Assembly” page to find out what version of parts to print. You can find the parts you need on the Releases Page, and look at the attached Assets at the bottom of the release. Click and download 3d-prints.zip to get the STL files for your machine. If you are building your kit, make sure you know your Hardware Version before printing parts.\nCalibration Print Before printing the parts, print the calibration print. This is FDM-8000, colloquially referred to as “the corndog.\" To ensure you have your printer dialed into the tolerances we expect in our designs, this part has every feature in the printable parts with a tolerance requirement. After printing, you can check fit of fasteners and aluminum extrusion to ensure the parts you print will all fit as expected.\n  You can test the Corndog’s fit using M3 and M5 bolts, along with M3 and M5 nuts. Check to see that the press-fit nut hexagonal voids and drop-in vertical nut slots fit M3 and M5 nuts correctly, that M3 and M5 bolts can easily pass through and countersink through their holes. The two holes inside the lock icon should be a good tap-thread fit. You should be able to thread M3 and M5 bolts into those holes with a bit of effort, but it should grip well into the print. You can also check the fit of a 20mm x 20mm aluminum extrusion fit into the square hole on the end of the print.\nPrinting The Parts How Many Of Each? You can find out how many of each part to print in index_bom.md, which is also an Asset of the release with your Build Number. You can view this file using an online Markdown viewer like this one. Select “Import From” -\u003e “Markdown File” and select index_bom.md. The Filename column will tell you which part to print, and the Quantity column will tell you how many to print. Only pay attention to Filenames that start with FDM-, as these are the ones in the zip file you downloaded earlier. The other items in this table are a list of all the other fasteners, hardware, and off the shelf parts used in the machine’s mechanical build. All of these have been provided in the kit.\n  What Material? Development with the machine is done with PLA, but folks have had great success printing these parts in PETG as well.\nFor colors, there is only one specific requirement: two parts must be printed in white/natural material: FDM-0015 Down Light Mount and FDM-0019 Up Light Mount. These parts have a thin section where the print acts as a diffuser for the ring lights. A dark color would prevent light from shining through. We also suggest that you print FDM-0024 Nozzle Holder in a light color as well, as it helps when setting your toolchanger position down the road.\nWe recommend printing the Z gantries (FDM-0017 and FDM-0039) in a dark color. This helps isolate the illuminated part on the nozzle tip, and reflects less light. If you choose to print them in a light color anyway, we’ve found a bit of blue painter’s tape applied to the bottom side of the parts works just fine.\nWhat Settings To Use? Of course, every printer is different, but the settings below are a rough outline of where you should be in terms of part strength. It’s also important to note that these parts are designed for printers with a 0.4mm nozzle. Using a larger nozzle diameter can result in some features not resolving correctly, or parts not fitting as designed.\nDefault Settings  3 shells 20% infill 5 Top/Bottom layers 0.2mm layer height Use Support  Gantry Settings  4 shells 30% infill 5 Top/Bottom layers 0.2mm layer height Use Support  Gantry Settings should be used for\n FDM-0005 (Y-gantry) FDM-0008 (Y-gantry Support) FDM-0009 (Roller-Spacer) FDM-0011 (X-gantry Front) FDM-0012 (X-gantry Back) FDM-0013 (X-Idler Mount) FDM-0017 (Z-gantry Left) FDM-0039 (Z-gantry Right)  9000 Series Parts? There are some parts in the project that have a part number in the 9000s. These prints are totally optional, and not necessary to print.\n","categories":"","description":"Printing all the parts necessary for the build\n","excerpt":"Printing all the parts necessary for the build\n","ref":"/docs/mechanical-assembly/printing-parts/","tags":"","title":"Printing Parts"},{"body":"Awesome! Now we’ve got OpenPnP installed on your computer, and we’ve got the default configuration loaded up, our next step is getting connected to the machine using OpenPnP and getting familiar with the UI.\n Connect your machine to your computer using the included USBC cable, and open OpenPnP on your computer. You should now see the OpenPnP UI:    Before we can connect to the machine, we need to tell OpenPnP which USB ports to use for communication, and for Camera feeds. Click on the Machine Setup tab, under Drivers click on GcodeDriver GcodeDriver, and in the Configuration tab select the correct serial port. Macs will have a port in the format cu.usbmodemXXXXXXX, Windows in the format COM2, and Linux in the format ttyACM0.    Now we’ll set up the cameras. The big red “X” in the camera views means that OpenPnP doesn’t know where to find the webcam feed. First we’ll add the bottom camera. Click on the Machine Setup tab, under Cameras click on OpenPnpCaptureCamera Bottom, and in the Device Settings tab choose PnP Bottom Camera (PnP Bottom Camera) from the Device dropdown. Also, select a 1280x720 10fps option in the Format dropdown. The exact options in the Format dropdown depends on your computer. Hit the “Apply” button in the bottom right.    Camera Connection Issues If you have trouble getting one or both of the webcams to show up in this dropdown, it might mean that your computer’s USB circuitry is not able to handle streaming both webcam feeds at once. Try unplugging the webcam’s USB cable from the motherboard and directly into another USB port on your computer.  Next we’ll do the top camera. This one is a bit more hidden in the OpenPnP device tree. Click on the Machine Setup tab, under Heads -\u003e ReferenceHead H1 -\u003e Cameras, click on OpenPnpCaptureCamera Top, and in the Device Settings tab choose PnP Top Camera (PnP Top Camera) from the Device dropdown. Also, select a 1280x720 10fps option in the Format dropdown. Hit the “Apply” button in the bottom right.    Click the green power button in the Machine Controls section of the UI to connect to your machine.    The power button should turn red, and OpenPnP has connected to your machine. You should also see both webcam feeds as shown below. (If you don’t see any, or just one, under the Cameras section, select the Show All Horizontal option from the dropdown.)    Save your OpenPnP settings with File -\u003e Save Configuration.  ","categories":"","description":"Getting set up and connected to your LumenPnP using OpenPnP\n","excerpt":"Getting set up and connected to your LumenPnP using OpenPnP\n","ref":"/openpnp/calibration/connect-to-machine/","tags":"","title":"Connecting to Your Machine"},{"body":"Awesome! Now we’re connected to the machine, our next step is calibrating the fisheye out of the camera lenses. You can reference the orignal OpenPnP documentation about this step here.\n  In the Machine Setup tab, find your top camera that you edited in the last step. In the camera settings menu, click the Lens Calibration tab, then click “Start Lens Calibration”.\n    OpenPnP is now looking for a very specific pattern of dots which it uses to figure out how fisheyed the view is, and correct it. Hold your datum board under the top camera as shown below. You’ll need to jog your Y axis towards the front of the machine to provide space to put the datum board for this calibration step. Using the viewfinder move the calibration pattern around the camera’s field of view until OpenPnP tells you that it’s gathered enough photos. Make sure it’s in focus of the camera, otherwise it’ll have a hard time finding the pattern. If the focal distance is too close such that you can’t get the whole pattern in focus and in the field of view, screw in the lens a few turns and test again.\n       If you’re having a hard time getting the camera to pick up on the pattern on the datum board, you can always print out the original calibration pattern recommended by OpenPnP, which you can find here. Be sure to download the “Circle Grid Camera Calibration Patterns” image.\nTip To see both camera views at the same time, click on the dropdown in the top left of the UI and select “Show All Horizontal”.  Make sure Apply Calibration? is checked after calibration is complete.    Now, we’ll do the bottom camera. Go through the same process of configuring the camera in OpenPnP, but instead you’ll find it under Cameras -\u003e OpenPnpCaptureCamera Bottom.  ","categories":"","description":"Applying fisheye calibration to the cameras\n","excerpt":"Applying fisheye calibration to the cameras\n","ref":"/openpnp/calibration/camera-fisheye-cal/","tags":"","title":"Camera Fisheye Calibration"},{"body":"Motherboard   Connect your LumenPnP to your computer using the motherboard’s USB-C port.\n  Manually move the Y gantry all the way to the front of the machine, and the X gantry all the way to the left.\n  Plug in the power supply to power up the machine\n  Heads Up The motherboard will not show up on your computer if not powered up through the screw terminal port. USB power is not used to prevent overdrawing current from your computer’s USB port.   Now, it’s time to check and see if your computer recognizes the motherboard. We’re going to use CNCjs to check this, but feel free to use any other tool you’d like. Download CNCjs, install it, and open it.\n  In the Connection widget, select the Marlin tab.\n  Click the refresh button next to the Port dropdown, and click the dropdown to see if your computer found the board.\n If you’re on Windows, the port should look like COM1 or something similar Mac should look like /dev/tty.usbserial00000 Linux should look like /dev/tty.ACM0    Keep the Baud Rate at 115200, and click the Open button. If you see boot text enter the Console widget, you’ve successfully connected to your LumenPnP!\n  Troubleshooting If your LumenPnP doesn’t show up on the list, try some of the following steps:\n Restart your computer Check if the LumenPnP shows up in Device Manager (Windows). Try another USB Port Try re-flashing firmware   Cameras We also need to check connecting to the cameras. CNCjs has a webcam feature, so we’ll use it for this test too.\n Find the Webcam tab in the bottom left of the window\n  Click on the module using the little slider icon\n  Open the widget using the carrot icon\n  Finally, click the gear and look for detected webcams in the dropdown under “Use a built-in camera or a connected webcam”. You should find “PnP Top Camera” and “PnP Bottom Camera” in the dropdown. Select each one and test out the camera feed.\n    Troubleshooting If the cameras don’t seem to be working, try zooming the image and toggling it on and off again. Additionally, some combinations of the USB hub chip we use in the motherboard and USB hub chips used in computers don’t allow for video streaming to work for one or both cameras. If you don’t see either or both cameras appear, don’t worry! You can always unplug them from the motherboard and plug them directly into your computer.  ","categories":"","description":"Instructions on how to test connecting your machine to the computer","excerpt":"Instructions on how to test connecting your machine to the computer","ref":"/docs/testing/connect-computer/","tags":"","title":"Connect to the Computer"},{"body":"Alright, time to get into the build! First, we’re going to build up the left side of the machine.\nBelt Tension Arm    Qty Part     1 M3 Hex Nut   1 M3x16 machine screw   1 M3 Cap Nut   1 M5x25 machine screw   1 M5 Nyloc Hex Nut   1 M5x40 machine screw   1 M5 Hex Nut   1 GT2 Pulley Idler   1 FDM-0037 (Belt Tension Arm)        Insert an M3 Hex Nut into its slot on the back of a Belt Tension ArmFDM-0037.     Insert the M3x16mm Machine Screw through the front hole in the Belt Tension ArmFDM-0037 and then tighten.     Thread an M3 Cap Nut on the end of the M3x16mm Machine Screw.     Insert the M5x25mm Machine Screw through the hole in the top of the Belt Tension ArmFDM-0037 so that it passes through a GT2 Pulley Idler.     Add an M5 Nyloc Hex Nut on the bottom of the Belt Tension ArmFDM-0037 and tighten. Make sure the idler can still spin freely.     Insert the M5 Nyloc Hex Nut into the recess for a hex nut on the bottom of one of the idler mount arms on the Front Left LegFDM-0001.     Insert completed Belt Tension Arm FDM-0037 assembly between the arms on the Front Left LegFDM-0001, with the screw head of the M5x25mm facing up.     Insert the M5x40mm Machine Screw through the hole in the top so that it passes through the Belt Tension ArmFDM-0037 and tightens into the M5 Nyloc Hex Nut. Do not over-tighten, and ensure you can still pivot the tension arm.       Assembly    Qty Part     1 FDM-0001 (Front Left Leg)   1 FDM-0003 (Back Left Leg)   2 Aluminum extrusions   6 M5 T-slot nut   6 M5x10 machine screw   1 NEMA17 Stepper motor   1 GT2 Pulley (with grub screws)   6 M3x8 machine screw   1 Limit switch PCB   2 M5x25 machine screw   1 FDM-0007 (Frame Umbilical Mount)   1 FDM-0046 (Umbilical Swivel Part 1)   1 FDM-0047 (Umbilical Swivel Part 2)   1 M5x40 machine screw     Take the Front Left LegFDM-0001 and insert the v-slot extrusions into the two square holes designed to take this part. Ensure that the extrusion comes to the end of the holes in which they’re inserted. If you have a hard time getting the extrusion into the slots, gently slide them into place using some taps from a mallet.       Take the Back Left LegFDM-0003 and place it onto two v-slot extrusions at the end opposite the Front Left LegFDM-0001. Your progress should look like the image below.       On the top rail, drop in and position a slot nut underneath the hole in the top of each leg and screw a M5x10mm machine screw into the nut.         On the bottom rail, the outer side has three exposed holes for machine screws (one on the Back Left LegFDM-0003, two on the Front Left LegFDM-0001). For each, drop in and position a slot nut under it and screw a M5x10mm machine screw into it.         On the bottom rail, the inner side has one exposed hole for a machine screw on the Back Left LegFDM-0003. Drop in and position a slot nut under it and screw a M5x10mm machine screw into it.       Slide the GT2 Pulley onto the the motor shaft of a NEMA17 stepper motor with the set screw side facing the motor body. Align the pulley so that the end is roughly flush with the end of motor shaft, then tighten one of the set screws on the pulley into the flat side of the motor shaft. Tighten the second set screw as well.     Mount the NEMA17 stepper motor to the Back Left LegFDM-0003. Attach it using four M3x8mm screws, ensuring that the connector is facing inwards towards the zip tie loops as dictated in the picture.       Mount one of the three limit switches to the Front Left LegFDM-0001 as shown in the image. Use two M3x8mm screws and tap them directly into the print.     Next, we’ll mount the Frame Umbilical MountFDM-0007. Using two M5x25mm screws, attach it to the Front Left LegFDM-0001 as shown, threading directly into the part.     Lastly, we’ll assemble the umbilical swivel. Swivel Part 1 and Swivel Part 2FDM-0046 and FDM-0047 fit together as shown below, and are secured in place with a M5x40mm screw and an M5 nut. Tighten so there’s no play in the fit, but the two parts can swivel easily. This part helps keep the X gantry umbilical suspended over the build area. Set it aside for now.     ","categories":"","description":"Assembling the left side of the machine\n","excerpt":"Assembling the left side of the machine\n","ref":"/docs/mechanical-assembly/left-side/","tags":"","title":"Left Side"},{"body":"This section is about building the mechanical frame of the machine. Bolting prints and extrusion together, getting motion systems set up, and adjusting roller and belt tension.\nMake sure you have all your tools at the ready, and let’s get going!\n","categories":"","description":"Assembling the frame of the LumenPnP\n","excerpt":"Assembling the frame of the LumenPnP\n","ref":"/docs/mechanical-assembly/","tags":"","title":"Mechanical Assembly"},{"body":"Mounting    Qty Part     4 M3 25mm Standoff   8 M3x8 machine screw    Now that we’ve got all the THT components soldered in, it’s time to mount the motherboard to the staging plate. It’s important to make sure we’re mounting the motherboard in the correct place on the staging plate so that all the cables fit and reach their respective ports correctly.\n  Put your Lumen up on its haunches and take a look at the left side of the staging plate. Reference the picture below for which holes you should mount the 25mm standoffs.     Pass four M3x10mm screws through the top side of the staging plate, and tighten them into the standoffs.     Now we can mount the motherboard itself. Confirm the orientation of your motherboard so that the USB ports are facing to the left and the vacuum sensors on the bottom. Then use four M3x10mm screws to secure the motherboard to the standoffs.     Drivers    Qty Part     4 Stepper motor driver PCB   4 PCB Heatsink     Install the four stepper motor drivers into the X, Y, Z, and Left Head slots. Note that the whale icon on the motor drivers will be right-side up and the two upward-facing pins will be facing to the left.     Install the four heatsinks on the center of the motor drivers.\n  Note It is very important to not plug in or unplug stepper motor drivers or motors while the board is powered on. Make sure to unplug the power supply before inserting or removing drivers or motors.  Power    Qty Part     1 Power Supply     Cut the barrel connector off the end of the power supply cable.     Separate the two wires and strip off the insulation of each.     Twist the stranded copper and insert the wire with the white text into the positive side of the power screw terminal on the motherboard. Insert the black wire into the other terminal, and screw both down tightly.   Note Do NOT apply solder to the twisted copper wires. This can prevent the wires from being compressed in the screw terminals, meaning uneven electricity and heat distribution and risk damaging your machine. You may use wire crimps if you prefer and have them on hand.    Next, plug in your power brick. Watch for a light by the screw terminal. If you do not see a light, check to make sure you inserted the wires into the correct terminals. Also check to see if the light on the power brick is illuminated. (The color of the light may differ based on which kit you received.)       ","categories":"","description":"Instructions about how to mount the motherboard on the staging plate","excerpt":"Instructions about how to mount the motherboard on the staging plate","ref":"/docs/motherboard/mounting/","tags":"","title":"Mounting the Motherboard"},{"body":"Now we’ll assemble the two umbilical cables in the machine. The one connecting from the front left leg to the left side of the Y gantry is the Y gantry umbilical, and the one connecting from the front left leg to the X gantry is the X gantry umbilical.\nY Gantry Umbilical This cable bundle will contain the following:\n   Qty Part     1 X axis limit switch cable (XL)   1 X axis motor cable (XM)   2 Heatshrink tubing (large)   1150 mm (45 in) Woven sheathing      To begin, we’ll get these two cables laid out at the correct spacing. XL and XM should be perfectly aligned on the label side, no offset.\n  Measure out 1150mm of sheathing and cut it from the rest of the spool.     Take the piece of sheathing and expand it by compressing it. You should find that inserting the two cables at the correct offset will maintain this offset while pushing the sheathing over them. Follow the pictures below for a good method of pushing the cables through the sheathing. If it starts to fray a little bit, don’t worry! This is purely a cosmetic step; you can trim off any frayed bits and use the heatshrink to clean up the ends.         Push the sheathing up until there’s equal amount of exposed black cable of the shorter cable, as shown below.     With the sheathing an equal distance from the closest connector on each side, slide two pieces of heatshrink tubing over the fraying end of the sheathing, with equal amounts on the cables and on the sheathing. This is to hold the sheathing in place, keep it from fraying, and generally making it look nicer. Use a heat gun or lighter to heat the heatshrink tight onto the cable.         X Gantry Umbilical This cable bundle will contain the following:\n   Qty Part     1 Z axis limit switch (ZL)   1 Z axis motor cable (ZM)   1 Left rotation motor cable (LM)   1 Top light cable (DL)   1 Top camera usb cable (longer usb cable()   2 Heatshrink tubing (large)   1475 mm (58 in) Woven sheathing     To begin, we’ll get these five cables laid out at the correct spacing. Having these spaced correctly ensures that every cable reaches every plug with strain relief and length for movement. Use the image below to make the correct spacing.     Once you have the spacing correct, use a short zip tie to hold them together at this spacing to preserve it while sheathing.       Now, cut a 1475mm piece of sheathing from the remainder and expand it by compressing it. You should find that inserting the cables at the correct offset will maintain this offset while pushing the sheathing over them. If it starts to fray a little bit, don’t worry! This is purely a cosmetic step; you can trim off any frayed bits and use the heatshrink to clean up the ends.\n  With the sheathing an equal distance from the closest connector on each side, slide two pieces of heatshrink tubing over the fraying end of the sheathing, with equal parts on the cables and on the sheathing. This is to hold the sheathing in place, keep it from fraying, and generally making it look nicer. Use a heat gun or lighter to heat the heatshrink tight onto the cable.\n  ","categories":"","description":"Creating the two umbilical cables in the machine \n","excerpt":"Creating the two umbilical cables in the machine \n","ref":"/docs/wiring-and-pneumatics/sheathing-umbilicals/","tags":"","title":"Sheathing the Umbilicals"},{"body":"Now that we’ve done the fisheye calibration, we can mount the datum board to the staging plate. The datum board is a reference point for everything else you’ll do with the machine.\n Using the datum board, four M3x16mm screws, four M3 nuts, and one datum board mount (FDM-0055), mount the datum board on the staging plate as shown in the image below, with the fisheye calibration pattern facing down. You should see a gold grid of lines and a fiducial in the center of the Opulo logo facing upwards. Tighten this down very well; this will define the center point for the entire machine.    Now we’ll home the machine using the home icon in OpenPnP. It will move to the limit switches, and get a rough zero position. Don’t worry if the icon is yellow; this just means the machine does not know its home position yet.     Now that your datum board is mounted well, it’s time to find out exactly where it is, and capture that position. First, turn on your LED lights using the LED button under Actuators under your camera view, and clicking the On button.     Under the Machine Setup tab in OpenPnP, select your machine’s head, switch the Homing Method to ResetToFiducialLocation. This tells the machine that it should be using the fiducial to get a more precise home position.     Then click the icon with the two blue circles and the red brackets around them (shown below). This will move the top camera to approximately where your datum board is mounted. Manually jog the head so that the center marking in your top camera view is perfectly centered on the fiducial in the center of the Opulo logo. Your top camera’s focus might be inaccurate from the previous step calibrating out the fisheye. If the fiducial is blurry, twist the lens until it’s as sharp as you can get it.\n    Your view from the top camera might not be bright enough, or it might be overexposed. Either way, we need to set your camera’s exposure. Go back to your Top Camera in the device tree in the Machine Setup tab in OpenPnP, and click on Device Settings. Click the checkbox next to Exposure, then uncheck it. This will set your exposure automatically based on what’s in view (which should be your datum board), and then turn off auto exposure to lock in the settings.  For Mac Users Due to an issue with the camera driver in OpenPnP, some Mac users might notice that these settings are greyed out for you. There’s a fantastic open-source application called CameraController that can be used to edit these settings!  Once the homing fiducial is centered, in focus, and properly exposed, capture the position using the button with the blue circle surrounded by the blue brackets under the settings for your machine’s head (shown below). Your homing fiducial position is now set.     Now you can test out fiducial homing. Try clicking the home icon and watch your machine home using the limit switches, then move the top camera over the homing fiducial and find its exact location.\n  If you find that the machine is having a hard time finding the homing fiducial, you might need to edit the Vision Pipeline for it. You can do that by going to the Machine Setup tab, and selecting Fiducial Locator under Vision. Click the Edit button to adjust the computer vision settings.     There is quite a bit to tuning a vision pipeline, and you should take a look at the OpenPnP documentation. But there are a few things you can pretty easily tweak to get up and running. First, let’s check out what the vision pipeline thinks it’s seeing. In the window that just popped up, click on the row with “DrawCircles” in the Stage column. The image will show you every circle detected from the pipeline, as shown below. If there is more than one, or if the one shown is not perfectly hugging the fiducial, there are tweaks to be made. The image below shows a correctly tuned pipeline, with a single circle encircling the fiducial.\n    The first variable to address is the threshold value. To access these settings, click on the row with “Threshold” under the Stage column. If the threshold is too low, then we won’t be isolating the area around the fiducial enough. A too low of a threshold value will look like the image below:    Raise the value until the fiducial is a clean, solid circle, as shown below:\n  Next, we can check and see how many circles the pipeline is finding. We want it to only be finding one, and have it hug the fiducial exactly. Click on the row with “DetectCirclesHough” in the Stage column. In the image below, you can see from the list in the bottom right that two circles have been detected. We can solve this by adjusting “param2” and bumping the value up. The lower the value, the more circles are detected. If the diameter of the circles detected is incorrect, adjust the maxDiameter and minDiameter settings.    With a higher value in the “param2” field, we only detect a single circle.\n  Lastly, we can confirm that our edits result in accurate fiducial detection. Once again click on the row with “DrawCircles” in the Stage column. The image will show you every circle detected from the pipeline. Confirm there is only one, and it is perfectly hugging the fiducial as shown below.    Exit out of the pipeline editing UI, save your changes, and try to home again. With your vision pipeline tuned, the machine should find the homing fiducial on your machine and center the crosshairs of the top camera on it.  ","categories":"","description":"Mounting datum board and testing the homing fiducial\n","excerpt":"Mounting datum board and testing the homing fiducial\n","ref":"/openpnp/calibration/homing-fiducial/","tags":"","title":"Homing Fiducial"},{"body":"What is the LumenPnP? The LumenPnP is an open source Pick and Place project led by Opulo. The LumenPnP is designed to be low cost and suited towards mid-scale manufacturing.\n  The LumenPnP is capable of placing parts as small as 0402, with support for down to 0603. It is currently set up to use strip feeders, but development around active, powered feeders is ongoing.\nIt is completely open source and hackable. The main controller has three AUX ports, allowing anyone to add on peripherals or communicate with other machines.\nWARNING This documentation corresponds with a specific machine Build Number. The Build Number represents what hardware, 3D printed parts, documentation version, and software your machine has. The first number is what version of the Opulo hardware kit you have. The second number dictates which version of the 3D printed parts is used. The third number dictates a version of the docs and software.\n  If you’re building from a kit, check the included pamphlet for Hardware Number. (Early kits have the full build number v2.0.X, if you have this, consider your Hardware Number to be 2.) This is the X value above.\nThe Y value is the Printed Parts Version. When you receive your kit, find the most recent release starting with your Hardware Number, and print the parts found there. Remember this number; these X and Y numbers dictate your machine’s hardware!\nThe Z dictates any software or documentation updates. Use the build number with the highest number in the Z position that you see in the dropdown. This means you’ll be using the most up to date docs and software for your machine’s hardware. Check the drop down in the upper right to select your Build Number.\n  For example, let’s say you received a v2 kit in the mail. The most recent release when you receive your kit is v2.3.4, so you print the parts from that release. Your machine’s hardware is v2.3. If documentation or software updates happen for your hardware, you’ll see other releases like v2.3.5, v2.3.6, or v2.3.7 in the drop down above. Always use the most recent, so long as the first two numbers match your hardware (v2.3).\n What’s on this site?  How to assemble the hardware in a LumenPnP Kit How to connect the electrical components in a LumenPnP Kit How to complete basic calibration in OpenPnP  READ BEFORE STARTING Referencing Source Files As you go through this guide, you might find that you’d like to refer to the source files for a number of parts in the machine. The exported build files and source for your machine can be found on the Releases Page. Make sure to reference the same Build Number as your machine kit!\nMachine Orientation and Terminology Throughout this guide we’ll be referring to different orientations and directions of the machine as “left, right, front, back, up, and down.” In general, these words are in reference to the typical view of the machine, facing it directly, as shown below.\n  We’ll also refer to putting the machine “back on its haunches.” This refers to a feature of the LumenPnP where it can be lifted up by the front rail and let to rest upright on its back feet. This orientation is tremendously helpful for installing things to the staging plate and plugging things into the motherboard. Whenever putting your machine back, make sure the Y gantry is pushed all the way to the back of the machine to prevent backdriving the Y stepper motor driver. An image of this orientation is below.\n     Help If you find that there’s something unclear in this documentation, please submit a ticket on Github about it! Select the “Index Documentation Issue” template. You can also file an issue using the link in the upper right of any page on this site. We’re trying to make this as clear and understandable as possible, so every issue you tag helps us make it better for everyone else. You can also check out the Discord server and ask questions to the community.\nTiming Expect assembly to take about eight hours provided all parts are printed and ready to use.\nTools Needed  M2 Allen Wrench (Long, ball-end) M2.5 Allen Wrench (Long, ball-end) M3 Allen Wrench (Long, ball-end) M4 Allen Wrench (Long, ball-end) Small Phillips Screwdriver Small Flathead Screwdriver Soldering Iron and Solder Needle-nose Pliers Mallet Flush Cutters Wire Stripper Measuring Tape Calipers Hot Air  Let’s dive in!\n","categories":"","description":"","excerpt":"What is the LumenPnP? The LumenPnP is an open source Pick and Place …","ref":"/docs/","tags":"","title":"LumenPnP Assembly"},{"body":"Introduction This part of the documentation contains some topics such as\n A glossary of key terms How to contribute to the project How to build and work with the documentation Images of the various 3d printed parts for reference  ","categories":"","description":"Section containing reference documentation.","excerpt":"Section containing reference documentation.","ref":"/docs/motherboard/","tags":"","title":"Motherboard Installation"},{"body":"Now that you’re connected to your LumenPnP, we’re going to send it some Gcode and test its motors.\nBefore we do though, it’s important to make sure that our limit switches are connected properly and will allow us to home correctly. For each of the three limit switches on the machine, tap the switch closed and watch for a red LED to light up on the limit switch PCB. If all three do, proceed with motor movement testing. If not, double check your limit switch connections.\nFirst send it the following lines of Gcode one-by-one. These commands will set the machine to an absolute positioning system, and start the homing procedure. You should see the machine move all three linear axis and home using the three limit switches:\nG91 ;absolute positioning G28 ;homing procedure If the X, Y, and Z axis all moved and homed correctly, excellent! If not, you might have a cable unplugged or inserted the wrong way around. If your Y axis doesn’t move correctly, double check that you soldered the Y2 connector opposite of the silkscreen as noted in the Motherboard section.\nNext we’ll check the left nozzle rotation stepper motor:\nG0 A90 You should see your nozzle stepper rotate 90 degrees.\n","categories":"","description":"How to check the motors on your LumenPnP","excerpt":"How to check the motors on your LumenPnP","ref":"/docs/testing/motor-check/","tags":"","title":"Motor Check"},{"body":"What is OpenPnP? OpenPnP is a piece of open source software designed to control pick and place machines. It supports a wide range of machines, with many features found in high-end commercial software. You can find out more about it here.\n  What’s on this site?  How to configure and perform basic calibration on your LumenPnP in OpenPnP  Let’s dive in!\n","categories":"","description":"","excerpt":"What is OpenPnP? OpenPnP is a piece of open source software designed …","ref":"/openpnp/","tags":"","title":"OpenPnP"},{"body":"Great! Now lets make the right side. Very similar to the left, just a couple small changes.\nBelt Tension Arm    Qty Part     1 M3 Hex Nut   1 M3x16 machine screw   1 M3 Cap Nut   1 M5x25 machine screw   1 M5 Nyloc Hex Nut   1 M5x40 machine screw   1 M5 Hex Nut   1 GT2 Pulley Idler   1 FDM-0037 (Belt Tension Arm)        Insert an M3 Hex Nut into its slot on the back of a Belt Tension ArmFDM-0037.     Insert the M3x16mm Machine Screw through the front hole in the Belt Tension ArmFDM-0037 and then tighten.     Thread an M3 Cap Nut on the end of the M3x16mm Machine Screw.     Insert the M5x25mm Machine Screw through the hole in the top of the Belt Tension ArmFDM-0037 so that it passes through a GT2 Pulley Idler. Note that the screw orientation should match the image below, opposite from the last step.     Add an M5 Nyloc Hex Nut on the bottom of the Belt Tension ArmFDM-0037 and tighten. Make sure the idler can still spin freely.     Insert the M5 Nyloc Hex Nut into the recess for a hex nut on the bottom of one of the idler mount arms on the Front Right LegFDM-0002.     Insert completed Belt Tension ArmFDM-0037 assembly between the arms on the Front Right LegFDM-0002, with the screw head of the M5x25mm facing up.     Insert the M5x40mm Machine Screw through the hole in the top so that it passes through the Belt Tension ArmFDM-0037 and tighten into the M5 Nyloc Hex Nut. Do not over-tighten, and ensure you can still pivot the tension arm.       Assembly    Qty Part     1 FDM-0002 (Front Right Leg)   1 FDM-0004 (Back Right Leg)   2 Aluminum extrusion   6 M5 T-slot nut   6 M5x10 machine screw   1 NEMA17 stepper motor   1 GT2 Pulley (with grub screws)   4 M3x8 machine screw     Take the Front Right LegFDM-0002 and insert the v-slot extrusions into the two square holes designed to take this part. Ensure that the extrusion comes to the end of the holes in which they’re inserted. If you have a hard time getting the extrusion into the slots, gently slide them into place using some taps from a mallet.     Take the Back Right LegFDM-0004 and place it onto the two v-slot extrusions at the end opposite the Front Right LegFDM-0002. Your progress should look like the image below.       On the top rail, drop in and position a slot nut underneath the hole in the top of each leg and screw a M5x10mm machine screw into the nut.         On the bottom rail, the outer side has three exposed holes for machine screws (one on the Back Right LegFDM-0004, two on the Front Right LegFDM-0002). For each, drop in and position a slot nut under it and screw a M5x10mm machine screw into it.         On the bottom rail, the inner side has one exposed hole for a machine screw on the Back Right LegFDM-0004. Drop in and position a slot nut under it and screw a M5x10mm machine screw into it.       Slide the GT2 Pulley onto the the motor shaft of a NEMA17 stepper motor with the set screw side facing the motor body. Align the pulley so that the end is roughly flush with the end of motor shaft, then tighten one of the set screws on the pulley into the flat side of the motor shaft. Tighten the second set screw as well.     Mount the NEMA17 stepper motor to the Back Right LegFDM-0004 with four M3x8mm screws, ensuring that the connector is facing inwards towards the zip tie loops as dictated in the picture.       ","categories":"","description":"Assembly of the right side of the machine\n","excerpt":"Assembly of the right side of the machine\n","ref":"/docs/mechanical-assembly/right-side/","tags":"","title":"Right Side"},{"body":"For this, all you’ll need is your freshly made Y gantry umbilical cable bundle, and your bag of zip ties. Note that we’ll be plugging in the unlabeled end of the cables, as the labels are meant to help identify wires on on the motherboard side.\nSecuring to the Y gantry   To begin, plug in the four terminal connector with only three wires into the X Limit Switch on the left side of the Y Gantry.     Plug in the other connector (six terminal connector with only four wires) into the X Axis Stepper Motor, also on the left side of the Y Gantry.     Align the cable bundle as shown in the picture below, and secure the cable to the Y Gantry Umbilical MountFDM-0010 with three big zip ties.     Lastly, plug in the Y axis limit switch using the YL cable.\n    Securing to the frame  Insert the Umbilical SwivelFDM-0046 and FDM-0047 into the Frame Umbilical MountFDM-0007     Move the Y gantry all the way to the back of the machine until you feel it hit the limit of travel. This will ensure that you don’t fasten the cable too tightly such that it restricts the machine’s motion.\n  Pass the loose end of the wiring bundle through one of the holes in the Umbilical SwivelFDM-0046 and FDM-0047\n  Take the cable bundle and guide it along the curved recess in the Frame Umbilical MountFDM-0007. Take two zip ties and loosely secure them through the zip tie guides and around the cable bundle. Do not tighten them yet, as we still need to route the X gantry cable bundle through this same pair of zip ties.     ","categories":"","description":"Connecting and securing the Y gantry umbilical cable \n","excerpt":"Connecting and securing the Y gantry umbilical cable \n","ref":"/docs/wiring-and-pneumatics/routing-y-umbilical/","tags":"","title":"Routing the Y Gantry Umbilical"},{"body":"Now we’re going to combine the left and right side together using two aluminum extrusions, and the staging plate.\n   Qty Part     2 Aluminum extrusion   16 M5 T-slot nut   4 M5x10 machine screw   12 M5x8 machine screw   6 2020 Corner Bracket   1 FDM-0022 (Umbilical Guide)      Insert a new v-slot extrusion (in green below) into the Front Left LegFDM-0001 underneath the bottom rail.           Drop in and position a slot nut underneath the hole and use a M5x10mm machine screw to fasten the v-slot extrusion to the Front Left LegFDM-0001.     Drop in and position a slot nut underneath the hole and use a M5x10mm machine screw to fasten the v-slot extrusion to the Front Right LegFDM-0002.     Attach one of the included metal 2020 corner bracket to the 20x20 V-Slot on the left side using two slot nuts and two M5x8mm screws.     Attach a 2020 corner bracket to the 20x20 V-Slot on the right side using two slot nuts and two M5x8mm screws.     Fasten the Umbilical GuideFDM-0022 on the bottom side of the bottom rail of the left side in place using two M5x10mm screws and two slot nuts.     Affix a 2020 corner bracket to the end of another V-slot using the a slot nut and an M5x8mm screw. Make sure the side of the bracket is perfectly flush with the end of the extrusion. It helps to tighten it in place against a flat surface.     Repeat the previous step three times to install three more braces in the orientation shown below. This is the back rail.     Flip the machine upside down. Using four M5x8mm screws and four slot nuts, fasten the back rail to the left and right sides of the machine as shown below. Make sure that the ends of the back rail are perfectly flush with the sides of the extrusion on the left and right sides. This will help keep the machine square. The brackets do not need to be touching the printed feet.           ","categories":"","description":"Attaching the left and right sides of the machine together \n","excerpt":"Attaching the left and right sides of the machine together \n","ref":"/docs/mechanical-assembly/connecting-sides/","tags":"","title":"Connecting the Sides"},{"body":"For this, all you’ll need is your freshly made X gantry umbilical cable, and your bag of zip ties. Note that we’ll be plugging in the unlabeled end of the cables, as the labels are meant to help identify wires on on the motherboard side.\nPlugging in the Cables   First, plug in the four terminal connector with only three wires into the limit switch on the right side of the X gantry.     Plug in the small four terminal JST connector into the down camera.     Plug in the three terminal JST XH connector into the down ring light.     Plug in the six terminal JST XH connector with only four wires into the Z gantry stepper motor in the center of the X gantry.     Lastly, plug the last remaining cable (four terminal connector with four wires, not JST XH) into the left gantry rotation stepper motor.     Securing the Cables  Align the cable bundle with the X Gantry BackFDM-0012 as shown in the picture below, and secure it to the guide with two large zip ties.       Secure the left motor cable using a small zip tie and the slot in the X Gantry FrontFDM-0011     Securing to the Frame  Move the Y gantry all the way to the back of the machine until you feel it hit the limit of travel, and do the same with the X gantry to the right of the machine. This will ensure that you don’t fasten the cable too tightly such that it restricts the machine’s motion.\n  Then, take the cable bundle and guide it along the Umbilical SwivelFDM-0046 and FDM-0047. Take five large zip ties and loosely secure them through the zip tie guides on the Umbilical SwivelFDM-0046 and FDM-0047 and around the cable bundle. Do not tighten yet, as we still need to route the pneumatic tubing through these zip ties.     Now route the cable bundle through the two loose zip ties you attached in the Frame Umbilical MountFDM-0007 in the last step. Don’t tighten these yet; we still need to route the pneumatics.     ","categories":"","description":"Connecting and securing the X gantry umbilical cable\n","excerpt":"Connecting and securing the X gantry umbilical cable\n","ref":"/docs/wiring-and-pneumatics/routing-x-umbilical/","tags":"","title":"Routing the X Gantry Umbilical"},{"body":"This step is optional. Your motherboard comes with a correct build of Marlin pre-installed, but if you’d like to update the firmware or change settings, this will help you do so!\nUsing the Auto Build Marlin VSCode Extension  Download the latest Marlin firmware and unzip it. Install VSCode and its PlatformIO extension. Open Marlin firmware’s folder on VSCode. Grab Marlin configuration files (Configuration.h and Configuration_adv.h) and replace the files in the Marlin/Marlin folder with those new ones. Install the Auto Build Marlin plugin using this Marlin Documentation page. Try to build Marlin using the build button with the hammer icon as shown below:     If this is successful, attach the LumenPnP Mobo to your computer with the USB cable.\n  Boot your motherboard into DFU Mode\n Press and hold the BOOT button Press the Reset button and hold for 10 seconds Release the Reset button and wait for 10 seconds Release the BOOT button       If you have a hard time getting your board to enter DFU mode, instead try powering off the machine entirely, holding the ‘BOOT’ button, plugging in power, waiting 10 seconds, then release the BOOT button.\n Now, press the upload button as shown below.     Wait for the process to finish:     Press Reset on the board. Now it should show up as a COM/Serial Port on your PC:\n   Windows:    Mac/Linux:     Manually Configuring PlatformIO   Download the latest Marlin firmware and unzip it.\n  Install VSCode and its PlatformIO extension\n  Open Marlin firmware’s folder on VSCode\n  Grab Marlin configuration files (Configuration.h and Configuration_adv.h) and replace the files in the Marlin/Marlin folder with those new ones.\n  Edit the platformio.ini file to indicate which board you’re uploading to. Update default_envs to read Index_Mobo_Rev03.     Attach the LumenPnP Mobo to your computer with the USB cable.\n  Boot your motherboard into DFU Mode\n Press and hold the BOOT button Press the Reset button and hold for 10 seconds Release the Reset button and wait for 10 seconds Release the BOOT button       If you have a hard time getting your board to enter DFU mode, instead try powering off the machine entirely, holding the ‘BOOT’ button, plugging in power, waiting 10 seconds, then release the BOOT button.\n Upload firmware to the board:     Wait for the process to finish:     Press Reset on the board. Now it should show up as a COM/Serial Port on your PC:\n   Windows:    Mac/Linux:     Flashing Factory Firmware If you’ve put new firmware on your motherboard, but just want to get back to the firmware that your machine was flashed with, check the release for your build number and download the .bin firmware file attached to it. Put your board into DFU mode as described above, connect to your computer, and flash the binary to the board using the following command:\ndfu-util -D ~/path/to/firmware.bin -s 0x08000000 -a 0 Troubleshooting If you aren’t able to upload, you can check to see if your motherboard is booting into DFU mode correctly:\n  Windows:     Mac/Linux:     Also, reference the Marlin instructions for uploading. Be sure to use bugfix-2.0.x if uploading using these instructions.\nAlternative Method (Not Recommended) This method requires an ST-Link (V2 Clone or equivalent). Additionally you need the software STM32CubeProgrammer by ST. This method is a bit more involved and takes longer than just using the DFU mode.\n  Compile (build) the project normally with PIO\n  This generates a .bin-file that contains the firmware\n  Connect your board to your ST-Link through the SWD header on board\n  Start STM32CubeProgrammer\n  Connect to the MCU:     Click on Open file and navigate to the firmware.bin file in PROJECT_DIRECTORY/.pio/build/STM32F407VE_black     Click on Download. This will flash the SMT32F4 with the provided firmware     Done! Now you just have to disconnect the ST-Link and press the reset button on the board.\n  ","categories":"","description":"Flash Marlin onto the motherboard.\n","excerpt":"Flash Marlin onto the motherboard.\n","ref":"/docs/motherboard/update-firmware/","tags":"","title":"Update the Firmware"},{"body":"Summary This section is all about plugging stuff in! This is where we’ll route and plug in all the cables, along with all the pneumatic tubing. We’ll also be making a couple umbilical harnesses, so break out that heat gun!\nNote Every cable harness has a single label at one end. The end of the cable with the label is the one that plugs into the motherboard. We’ll start by plugging the unlabeled end into the motor/actuator and routing them back to the motherboard. Then it’s easy to just match the label on the cable with the silkscreen on the board.  ","categories":"","description":"Wire your mobo, etc.\n","excerpt":"Wire your mobo, etc.\n","ref":"/docs/wiring-and-pneumatics/","tags":"","title":"Wiring and Pneumatics"},{"body":"It’s time to get going on the Y gantry. This is what moves the toolhead forward and back, and also carries the X gantry as well. We’ve got a few sub-assemblies in this one, so let’s dive in!\nX Idler Sub-Assembly    Qty Part     1 FDM-0037 (Belt Tension Arm)   1 FDM-0013 (X Idler Mount)   1 M3x16 machine screw   1 M3 Hex Nut   1 M3 Cap Nut   1 M5x25 machine screw   1 GT2 Pulley Idler   1 M5 Nyloc Hex Nut   1 M5 Hex Nut   1 M5x40 machine screw      Insert the M3 Hex Nut into the slot for the hex nut on the back of the third and final Belt Tension ArmFDM-0037.     Insert the M3x16mm Machine Screw through the front hole in the Belt Tension ArmFDM-0037 and then tighten.     Thread an M3 Cap Nut on the end of the M3x16mm machine screw.     Insert the M5x25mm Machine Screw through the hole in the top of the Belt Tension ArmFDM-0037 so that it passes through a GT2 Pulley Idler.     Add an M5 Nyloc Hex Nut on the bottom of the Belt Tension ArmFDM-0037 and tighten.     Insert the M5 Nyloc hex nut into the recess on the bottom of the X Idler MountFDM-0013.     Insert the completed Belt Tension ArmFDM-0037 into its slot in the X Idler MountFDM-0013.     Insert the M5x40mm machine screw through the hole in the top of the X Idler MountFDM-0013 so that it passes through the Belt Tension ArmFDM-0037 and tightens into the Nyloc Hex Nut. Do not over-tighten, and ensure you can still pivot the Belt Tension ArmFDM-0037.       X Motor Mount Sub-Assembly    Qty Part     1 NEMA17 stepper motor   1 GT2 Pulley (with grub screws)   1 FDM-0006 (X Motor Mount)   4 M3x8 machine screw     Slide the GT2 Pulley onto the the motor shaft of a NEMA17 stepper motor with the set screw side facing the motor body. Align the pulley so that the end is roughly flush with the end of motor shaft, then tighten one of the set screws on the pulley into the flat side of the motor shaft. Tighten the second set screw as well.     Place the motor onto the X Motor MountFDM-0006 with the wires exiting the motor on the left side of the mount.     Mount the NEMA17 stepper motor to the X Motor MountFDM-0006 with four M3x8mm screws. Again, check that the connector is facing towards the left side of the mount.     Y Gantry Sub-Assemblies Note: You will need to build two identical Y Gantry Sub-Assemblies. You can build them one at a time, or in parallel, step by step.\n   Qty Parts     1 FDM-0005 (Y Gantry)   1 FDM-0008 (Y Gantry Support)   10 M5 Hex Nut   2 M3 Hex Nut   2 M3x16 machine screw   2 M5x40 machine screw   2 V-Slot roller wheel     Insert eight M5 hex nuts into the slots indicated below on one of the Y GantriesFDM-0005.     Ensure each hex nut is fully seated into their slot. It may be helpful to pull the hex nuts fully into location by screwing a M5x10mm machine screw into them from the opposite side of the Y GantryFDM-0005. Afterwards, remove the screw.\n  Insert a M3 Hex Nut vertically into the slot at the bottom of the Y GantryFDM-0005.     Loosely thread an M3x16mm machine screw into the nut installed in the previous step until you can see the tip of the screw poking through the nut.     Insert an M3 nut vertically into the slot indicated below on a Y Gantry SupportFDM-0008.     Loosely thread an M3x16mm machine screw into the nut installed in the previous step until you can see the tip of the screw poking through the nut.     Insert two M5x40mm machine screws, one into each of the top roller positions in the Y GantryFDM-0005.     Slide a V-Slot roller one onto each of the two M5x40mm machine screws. Note: you may need to align one or both of the interior washers inside the rollers, as they can shift in shipping and block the hole for the screw. Simply push the washers back into place with a screwdriver tip.     Insert two M5 nuts into the back side of Y Gantry SupportFDM-0008 and then place the assembly onto the two M5x40mm machine screws from the last step. Loosely screw them in so they’re attached; we’ll tighten them in a later step.       Repeat steps 12-20 for the second Y GantryFDM-0005 and Y Gantry SupportFDM-0008.\n  Final Assembly    Qty Part     1 Aluminum extrusion   2 M5 T-slot nut   2 M5x10 machine screw   8 M5x25 machine screw   1 FDM-0010 (Y Gantry Umbilical Mount)   1 Limit switch PCB   2 M3x8 machine screw     Place a Y gantry assembly on each end of a v-slot extrusion. Don’t worry about pushing it all the way into the print; we’ll be adjusting it in a later step.       Drop in and position a T slot nut under the machine screw hole on the top of each gantry side and loosely thread a M5x10mm machine screw into each of the nuts. Again, we’ll adjust this later.     Using four M5x25mm machine screws, attach the X idler assembly to the right side gantry body. Note that orientation does matter here: the head of the machine screw that holds the idler should be visible when looking down at the top of the machine, and the chamfers on the X Idler MountFDM-0013 line up with the ones on the Y GantryFDM-0005.       Using four M5x25mm machine screws, attach the X Motor MountFDM-0006 and Y Gantry Umbilical MountFDM-0010 to the left side gantry assembly. The motor should be on top with the pulley facing downwards. The Gantry Umbilical MountFDM-0010 should be at the back, on the same side as the motor’s cable connector.       Finally, mount the X axis limit switch to the Y GantryFDM-0005. Secure it in place using two M3x8mm screws as shown in the image below. These screws tap directly into the print.     ","categories":"","description":"Assembling the Y Gantry\n","excerpt":"Assembling the Y Gantry\n","ref":"/docs/mechanical-assembly/y-gantry-assembly/","tags":"","title":"Y Gantry Assembly"},{"body":"Pumps The first and most important actuator on your LumenPnP is the vacuum pump. We can check this by sending more Gcode to the machine. Send the first line to turn on the pump, and the second one to turn it back off.\nM106 ;turn MOS1 on M107 ;turn MOS1 off Valves We can also check the blowoff valve. This can be tested using the Gcode below. Listen for a slight click when each of the commands are run; this is the sound of the valve actuating!\nM106 P1 S255 ;turn MOS2 on M107 P1 ;turn MOS2 off It’s worth noting that MOS3 and MOS4 can be actuated using the following commands (when something is plugged into those ports):\nM106 P2 S255 ;turn MOS3 on M107 P2 ;turn MOS3 off M106 P3 S255 ;turn MOS4 on M107 P3 ;turn MOS4 off Ring Lights Check the ring lights using the Gcode below. Note that both lights are controlled together, with the same command. You can edit the color of the lights by adjusting the R, U, and B terms in the command, and you can edit the brightness by editing the P term. For more information, check the Marlin Docs page on M150.\nM150 P255 R255 U255 B255 ;turn on ring lights M150 P0 ;turn off ring lights If you’d like to change the brightness that your ring lights actuate to during a job, you can edit the P value in this section of the “Machine Setup” tab in OpenPnP:\n  Vacuum Sensors Now we can check the vacuum sensors. First, check the value from the first vacuum sensor before and after a vacuum is pulled to check that it’s working correctly.\nM3426 G4 C1 I1 A6 ;read vac 1 value M106 ;turn on the pump M106 P1 S255 ;turn on the valve ;cover the nozzle with your finger and wait two seconds M3426 G4 C1 I1 A6 ;read vac 1 value again M107 ;turn off the pump M107 P1 ;turn off the valve The two values returned should be separated by a couple thousand units.\nIt’s also worth noting the command for reading the second vacuum sensor. Until pneumatics for a second nozzle are plumbed in, the second one will only ever read ambient pressure.\nM3426 G4 C2 I1 A6 ;read vac 2 value  In Case Of Error These commands are meant for a newer version of Marlin that adds support for multiple ADCs. If you’re getting an error in response from Marlin, update the firmware to the latest version.  Feedback You’re done with the build! Please fill out this 1-minute form to give us feedback on how that went. We want to make it as easy as possible to build a LumenPnP, and your feedback helps us do that.\n","categories":"","description":"How to check the actuators on your LumenPnP","excerpt":"How to check the actuators on your LumenPnP","ref":"/docs/testing/actuator-check/","tags":"","title":"Actuator Check"},{"body":"Take your LumenPnP and flip it up onto its haunches. You should see lots of cables loosely attached to the Frame Umbilical MountFDM-0007, all looking for a home. We’re about to give them one!\nPlugging in   We’ll first start by plugging in the Y motors you routed behind the motherboard in Wiring the Y Motors. Plug the cable labeled Y1 into the left Y motor port on the motherboard, and plug the Y2 cable into the right one.     Take the Bottom Camera USB cable and run it to the left across the staging plate, under the motherboard, and out the other side. Plug it into the USB port by the label Btm Cam. Store the excess cable underneath the motherboard.\n  Now we’ll do the same thing, but with the Top Camera cable. Guide it from the top left of the staging plate, underneath the motherboard from the top side, then out the side like the other USB cable. Plug it into the USB port by the label Top Cam and Store the excess cable underneath the motherboard.\n  The rest of the cables can be routed without being tucked underneath the motherboard. Plug in the listed labeled cables into their respective ports, shown below:\n     Cable Label Mobo Label     XM X   Y1 Y (Left Port)   Y2 Y (Right Port)   ZM Z   LM L   XL X (Under Limit Switches)   ZL Z (Under Limit Switches)   YL Y (Under Limit Switches)   UL Btm Cam   DL Top Cam   P1 MOS1   Valve 1 (No Label) MOS2    Strain Relief   Now that we have everything plugged in, it’s time to attach all these loose cables to the frame. Use some Cable ClampsFDM-0023 with some M3x14mm screws and M3 nuts to hold down the cables across the staging plate.     Take your umbilical cable bundles and loosely secure them in place on the Umbilical GuideFDM-0022 using two big zip ties. Don’t tighten all the way yet; we still need to route the pneumatics.     ","categories":"","description":"Plugging in all the cables in the machine into the motherboard \n","excerpt":"Plugging in all the cables in the machine into the motherboard \n","ref":"/docs/wiring-and-pneumatics/connecting-to-mobo/","tags":"","title":"Connecting to the Motherboard"},{"body":"You’re done with the build! We’d love if you let us know how it went (the form takes less than a minute). We want to make it as easy as possible to build a LumenPnP, and your feedback helps us do that.\nLumenPnP Build Survey Here ","categories":"","description":"Let us know how your build went","excerpt":"Let us know how your build went","ref":"/docs/testing/feedback/","tags":"","title":"Feedback"},{"body":"Alright, the last major bit of assembly! Once this is done, the majority of the machine’s structure is built.\nX Gantry Preparation    Qty Part     1 FDM-0011 (X Gantry Front)   1 FDM-0012 (X Gantry Back)   4 M5 Hex Nut   12 M3 Hex Nut   1 M5 Nylock Hex Nut      Insert four M5 Hex Nuts into the slots on the X Gantry BackFDM-0012 as shown below.     Ensure each hex nut is fully seated into their slot. It may be helpful to pull the hex nuts fully into location by screwing a M5x10mm machine screw into them from the opposite side of the X Gantry BackFDM-0012. Afterwards, remove the screw.\n  Insert four M3 Hex Nuts, two vertically and two horizontally into the slots on X Gantry BackFDM-0012 as indicated below.     Insert six M3 Hex Nuts into the slots on the X Gantry FrontFDM-0011 as shown below.     Insert two more M3 nuts into the vertical slots on the other side of the X Gantry FrontFDM-0011.     Pull the hex nuts fully into location by screwing a M3x10mm machine screw into them from the opposite side of the X Gantry FrontFDM-0011. Then unscrew the M3x10mm machine screw.\n  Insert a M5 Nylock Hex Nut into the slot at the bottom of the X Gantry FrontFDM-0011.     Attaching X Gantry Front and Back    Qty Part     2 M5x40 machine screw   2 FDM-0009 (Roller spacer)   2 V-slot roller wheel   2 M5 Hex Nut     Insert two M5x40mm machine screws, one into each of the top two holes on the X Gantry FrontFDM-0011.     Slide a Roller SpacerFDM-0009 onto each of the two machine screws.     Slide a V-slot roller onto each of the two machine screws. Note: you may need to align one or both of the interior washers inside the rollers, as they can shift in shipping and block the hole for the screw. Simply push the washers back into place with a screwdriver tip.       Place the X Gantry BackFDM-0012 onto the two machine screws.     Install two M5 Hex Nuts, one into each of the slots on the X Gantry BackFDM-0012. Tighten the nuts on the machine screws so that the two sides are snug against the V-slot rollers.     Preparing for the Z Gantry    Qty Part     2 100mm Linear Rail   6 M3x14 machine screw   1 NEMA17 stepper motor   6 M3x8 machine screw   1 Limit switch PCB   1 GT2 Pulley Idler   1 M5x25 machine screw     Carefully and safely remove the stoppers holding the gantry onto the linear rail. Depending on your kit, these could be metal clips or rubber stoppers inserted through the rail. Take care not to accidentally slide the bearings off of the linear rails after removing the stoppers. The bearings will be properly blocked from being removed after the linear rails are attached to the X Gantry FrontFDM-0011 and the Z-axis limit switch is installed.\n  Place the two linear rails onto the front of the X Gantry FrontFDM-0011 and line up each one with the arrays of three holes on the left and right side. Place three M3x14mm machine screws into each of the rails (the holes on the ends first, then hole one in the middle) and tighten down.     Place the NEMA 17 motor so the shaft runs through the X Gantry FrontFDM-0011 and emerges on the same side as the linear rails. Make sure the motor’s connector is pointing towards the umbilical guide as shown below. Use using four M3x8mm machine screws to fasten the NEMA17 motor to the X Gantry FrontFDM-0011.       Attach the limit switch PCB with two M3x8mm screws at the top right of the X Gantry FrontFDM-0011.     Slide a GT2 idler onto a M5x25mm machine screw. Thread that assembly through X Gantry FrontFDM-0011 and tighten on the Nyloc Hex Nut on the back side. Ensure that the fit is tight and there’s no wiggle in the idler, but also make sure that it can spin freely and isn’t seizing from over-tightening.     Z Gantry Assembly    Qty Part     1 FDM-0040 (Left Z Gantry Backplate)   1 FDM-0041 (Right Z Gantry Backplate)   1 FDM-0017 (Left Z Gantry)   1 FDM-0039 (Right Z Gantry)   1 GT2 Timing Belt   8 M3x8 machine screw   1 GT2 Pulley (with grub screws)    Now it’s time to mount the Z gantries. Each gantry comes in two parts. The first is a back plate that sits against the linear rail carriage, and connects to the timing belt, called Left Z Gantry BackplateFDM-0040 and Right Z Gantry BackplateFDM-0041. These will always be on your machine. Even when you swap toolheads, these will stay attached to the linear rail.\n First, we need to get the GT2 timing belt inserted into the back plates at the right spacing. Insert the end of your GT2 belt halfway along the slot in the Right Z Gantry BackplateFDM-0041. Then slide the belt into the slot in the Left Z Gantry BackplateFDM-0040 with 108mm of belt between them (when measuring from the edges of the prints). Your setup should look like the image below:     Now, cut the loose end of the belt such that there is 114mm remaining when measured from the edge of the print. Insert this loose end into the other backplate so that there are no empty teeth.\n    Slide the GT2 Pulley onto the Z axis motor’s shaft, with the set screws closer to the motor body. Don’t tighten the set screws yet. Place backplate and belt assembly on linear rails, threading the belt through the pulley on the stepper motor. Ensure that the back plates are oriented as shown in the image below.    Insert M5x40mm bolt with GT2 idler into bottom of plate, and thread the belt around it. Secure backplates temporarily with two M3x8mm bolts as shown below.     Slide the Z motor up in its hardware slots and check for belt tension. If you’re able to get the belt completely taut, great! If not, remove a loose end of the belt, snip off a belt rib from one side, reinsert, and try again. As long as you are able to get the belt taught from the movement of the stepper motor, you’re good to move on.\n  While pulling upward on the Z stepper motor so that the belt is tesioned, tighten the four M3 bolts holding it to the X gantry.\n    Finally, attach the left and right Z gantries to the back plates using M3x8mm bolts as shown below.      Mounting the Z-axis tools    Qty Part     1 NEMA11 hollow shaft stepper motor   4 M2.5x8 machine screw   1 CP40 nozzle holder   1 Pneumatic Couple   4 M5x10 machine screw   2 FDM-0027 (Belt Clamp)     Now that our Z gantries are all tightened and moving freely, we can mount our final axis: rotation! Take your NEMA11 hollow shaft stepper motor and place it in the left Z gantry. Secure it in place with four M2.5x8mm screws. Make sure the wire port is facing outwards as shown below.     Now we’ll mount a few bits of hardware to the hollow shaft motor. Screw the CP40 nozzle holder into the bottom side of the motor, and screw the press-fit pneumatic coupler into the top side.     Use four M5x10mm screws to loosely attach two of your Belt ClampsFDM-0027 onto the X Gantry BackFDM-0012.     ","categories":"","description":"Assembling the X gantry\n","excerpt":"Assembling the X gantry\n","ref":"/docs/mechanical-assembly/x-gantry-assembly/","tags":"","title":"X Gantry Assembly"},{"body":"Now that we’ve got everything wired up, it’s time to get all the tubing plumbed.\n   Qty Part     65 mm 6mm Tubing (Clear)   230 mm 6mm Tubing (Clear)   235 mm 4mm Tubing (Black)   Remaining 4mm Tubing (Black)    Plumbing the staging plate  The origin of vacuum in the machine is our vacuum pump. The off-center port is the one that provides vacuum. Start by cutting a 65mm section of the 6mm clear tubing and pushing it onto the off-center port on the vacuum pump. Push the other end onto the inline plastic port of the valve as shown below.        Cut a 230mm section of the 6mm clear tubing and push it onto the right-angle plastic port of the valve, and push the other side into the single, larger port of the Y splitter.       Switch to using the smaller, 4mm black tubing. Cut a 235mm length of 4mm OD tubing and push one side into a fork of the Y splitter, and route the other end underneath the motherboard and onto the VAC1 sensor port. Keep In Mind This sensor is only attached to the motherboard with six solder joints. Be gentle when pushing the tubing onto it. Twisting the tubing back and forth as you push it down can help get it on without too much force.        Plumbing the X gantry  Now take the remaining length of 4mm black tubing and push it into the other fork of the Y splitter. Take the loose end, and route it underneath the motherboard, then up through all the zip ties that are holding the X umbilical in place, including those along the swivel arm.     Now that the pneumatics are also routed, we can finally tighten the zip ties on the umbilical cable guide. While your machine is still back on its haunches, tighten the zip tie on the umbilical guide to secure the wires and tubing to the frame.\n  Bring your LumenPnP down onto its four legs, and tighten the zip ties, ensuring to keep a bit of slack between sections. You can move up the umbilical swivel and tighten all the zip ties along the whole thing.\n  With the pneumatic tubing dangling loose past the end of the swivel arm, cut any excess tubing (still allowing some slack for motor rotation) push the other end into the pneumatic coupling on the back side of the rotation stepper motor. Extra slack will allow the motor to rotate freely 180 degrees in each direction, so err on the side of leaving more than less. If the tubing falls away from the umbilical, use one or two small zip ties to secure them together.   The bottom of the staging plate should look like the image below:     Congratulations, you’re all wired and plumbed up! It’s time to give it a test!\n","categories":"","description":"Making all the pneumatic connections in the machine \n","excerpt":"Making all the pneumatic connections in the machine \n","ref":"/docs/wiring-and-pneumatics/connecting-pneumatics/","tags":"","title":"Connecting the Pneumatics"},{"body":"Nicely done so far! You’ve got your homing fiducial all set up, and have played around with tweaking a vision pipeline. This next step calibrates the relationship between pixels and millimeters to make our cameras more accurate.\n  First, let’s calibrate the top camera. Jog the camera over to your datum board. Select your machine’s head in the Machine Setup tab, and click the icon highlighted below to move there. There are some markers on the datum board that will help us do this exact calibration.     Select your top camera in the device tree. Under the General Configuration tab, scroll down to Units Per Pixel. Under the X and Y Object Dimensions, type in the number 5.\n    Now, zoom out on the camera and jog to one of the golden squares on the datum board. Make sure the entire square is visible in the camera’s field of view like the image below.    Then click the Measure button. A box with drag handles will appear in the camera viewfinder. Drag the box so that it lines up with the golden box on the datum board; they are exactly 5mm x 5mm. Make sure that you are aligning the bounding box with the center of the golden lines as shown in the image below. Once you have it perfectly outlined, click Confirm. New numbers should populate the Units per Pixel fields, but they should be relatively close to what you found in there to begin with. Then hit Apply.     To confirm, jog around by clicking on various locations on your datum board in the top camera viewfinder and see how accurate the centerpoint of the camera view gets to where you clicked. If it’s inaccurate, try doing the calibration again or tweaking the values in the fields.\n  Now we’ll calibrate the bottom camera. For this, we’ll use a nozzle tip! Put an N24 nozzle on the CP40 Holder, and under your bottom camera’s settings in the device tree, under the Position tab, click the icon with the red nozzle in the blue circle (Hover text says “Position the tool over the center of the location”). This should move your nozzle over the camera. Don’t worry if it’s not exactly centered; we’ll fix this in a later step. It’s important you don’t try to fix this now. Manually jog it over the center of your bottom camera by clicking on the bottom camera viewfinder. If your lens is not focused on the nozzle tip, you should rotate the lens so that the nozzle tip is sharp and clear.\n    Now, do the same calibration that you did for the top camera, but instead of inputting 5 in the X and Y fields, input 4. Drag your bounding box around the nozzle tip so that it’s perfectly tangent to the edges, and press Confirm. Your pixels per millimeter are now calibrated! Try clicking around the bottom viewfinder and check to see if the reticle is moving where you click.    ","categories":"","description":"Setting the millimeters per pixel value in OpenPnP\n","excerpt":"Setting the millimeters per pixel value in OpenPnP\n","ref":"/openpnp/calibration/mm-per-pixel/","tags":"","title":"MM/pixel Calibration"},{"body":"Now that we have both gantries assembled, it’s time to put them together.\nX Gantry Tensioner Bars    Qty Part     2 V-slot roller wheel   2 FDM-0043 (X Gantry Tension Bar)   2 M5x40 machine screw   2 M5 Hex Nut   4 M3x30 machine screw      Fit the X gantry on top of the Y gantry rail. Make sure the X motor is on the left side with the front of the X gantry facing you. Note You’ll find that it’s hard to fit the X gantry onto the rail. This is because of a few protrusions on the back plate that hold the belt at the right distance. Loosening the M5x40mm bolts holding the two halves of the X gantry together will help it slot onto the rail.      Prepare two V-slot rollers. You may need to align one or both of the interior washers inside the rollers, as they can shift in shipping and block the hole for the screw. Simply push the washers back into place with a screwdriver tip.\n  With the top roller bolts still loose, slide the two X Gantry Tension BarsFDM-0043 onto the bottom of the X Gantry printsFDM-0012 and FDM-0011. Slide two rollers in between them, ensuring that the holes in them line up with the holes in the X Gantry Tension BarsFDM-0043.       Now we can secure the stack in place using two M5x40mm bolts. Pass them through the holes, and loosely tighten them into two M5 nuts in the slots on the X Gantry BackFDM-0012. Don’t tighten all the way yet; we still have some adjustment to do first.         Tighten the top roller bolts now that everything is in its place.     Now we add tension screws. These are what hold the X Gantry Tension BarsFDM-0043 in the correct position to have proper tension along the rail. Take four M3x30mm screws and pass them through the holes in the X Gantry Tension BarsFDM-0043, and thread into the M3 nuts inserted into the X Gantry printsFDM-0012 and FDM-0011, as shown below. Make sure each screw is tightened the same amount, and that the X gantry can still move freely, but doesn’t have any wiggle on the rail.       Tighten the M5x40mm bolts that run through the bottom set of rollers (installed in the previously) so that their position is locked.     Camera and Ring Light    Qty Part     1 USB Camera (Top)   1 FDM-0015 (Top Light Mount)   1 FDM-0014 (Top Camera Mount)   1 Top Ring Light PCB   4 M2.5x20 machine screw   2 M3x14 machine screw    Note There’s a piece of black electrical tape on the back of the camera PCB. Don’t remove it; it is there to help isolate the camera sensor from light shining through vias in the PCB.   Before we mount the camera, we need to loosen the screw holding the lens in place. Unscrew it just enough such that you can turn the lens in and out. You might need a light grip with pliers to get it to make a full turn. (We’ll need to adjust the focal length after the camera is mounted)\n  Place the ring light facing downwards into the Top Light MountFDM-0015. The LEDs will shine down, and the white plastic wire connector will face upwards.       Place the Top Camera MountFDM-0014 on top of the Top Light MountFDM-0015 ensuring that the tab from the Top Light MountFDM-0015 fits onto the side opposite the arms on the Top Camera MountFDM-0014. These two prints will pinch the top ring light in place.     Install the Top Camera into the Top Camera MountFDM-0014. Make sure the connector on the back side of the camera is between the two arms of the Top Camera MountFDM-0014.       Secure the whole stack in place with four M2.5x20mm screws in the outer four holes (not the ones with a metal circle around them). Tighten them down so that all parts are tightly held together, but don’t over-torque; these screws are threading into the plastic of the Top Light MountFDM-0015.     Use two M3x14mm screws to mount the Top Camera and Light subassembly onto the back of the X Gantry BackFDM-0012.     ","categories":"","description":"Attaching the X gantry to the Y gantry\n","excerpt":"Attaching the X gantry to the Y gantry\n","ref":"/docs/mechanical-assembly/mount-x-to-y/","tags":"","title":"Mounting the X Gantry to the Y Gantry"},{"body":"Now we can have OpenPnP run its automatic backlash compensation routine to make all head movements more accurate. Read the OpenPnP docs page about this step here.\n First, we’ll select the axis we want to calibrate backlash compensation for. Under the Machine Setup tab, select ReferenceControllerAxis x under Axis. Then select the Backlash Compensation tab.     Next, click the Calibrate now button. The machine will go through a long routine (between 5-15 minutes) where it measures the machine’s backlash, and determines the best settings to account for it.\n  When it’s done, you’ll see the output data from the calibration. We suggest selecting OneSidedOptimizedPositioning for the Compensation Method, but experiment with the different options to see which gives you the best results.\n    Perform steps 1 - 3 but with the Y axis instead.  ","categories":"","description":"Calibrating Backlash Compensation\n","excerpt":"Calibrating Backlash Compensation\n","ref":"/openpnp/calibration/backlash-compensation/","tags":"","title":"Backlash Compensation"},{"body":"Now the whole XY gantry assembly gets dropped onto the frame!\n   Qty Part     2 M5x40 machine screw   4 FDM-0009 (Roller spacer)   2 V-slot roller wheel   2 M5 Hex Nut   4 M5 T-slot nuts   1 Staging Plate      Loosen the four M5x40mm screws holding the two halves of the Y GantriesFDM-0005 and FDM-0008 together.     Loosen the two M5x10mm screws that hold the Y GantriesFDM-0005 to the X extrusion. Double-check that none of the captive nuts in either of the Y GantriesFDM-0005 have fallen out, since they’ll be difficult to reinsert after the next step.     Slot the entire XY gantry assembly onto the top extrusions of the frame. Make sure the X motor is on the left of the machine.       Re-tighten the four M5x40mm screws holding the two halves of the Y GantriesFDM-0005 and FDM-0008 together.     We’ll add an additional roller to each Y Gantry assemblyFDM-0005 and FDM-0008 below the extrusions of the frame. Push a M5x40mm machine screw through the Y GantryFDM-0005, then add on a Roller SpacerFDM-0009, a V-Slot roller, and then another Roller SpacerFDM-0009. Secure the assembly in place with an M5 nut slotting into the Y Gantry SupportFDM-0008 and threading into the screw. Note: you may need to align one or both of the interior washers inside the rollers, as they can shift in shipping and block the hole for the screw. Simply push the washers back into place with a screwdriver tip.     Now roll the entire Gantry Assembly to the very front of the machine. Adjust the fit of the X axis extrusion inside the Y GantriesFDM-0005 and FDM-0008 so that the top rollers fit perfectly into the v-slot. After you adjust them, tighten both M5x10mm screws that hold the Y Gantries to the X axis extrusion.       Now we need to make sure this spacing doesn’t just work for the front of the machine, but for the entire length of it as well. Loosen the machine screws connecting the back rail to the left and right side. While applying light pressure down on the Y gantry, roll it to the back of the machine. You might find that you need to expand or contract the back legs to have the rollers ride perfectly in the v-slot. Once you have the correct spacing, tighten the bolts mounting the back rail. This locks in the Y gantry extrusion spacing for the back of the machine as well. We also recommend measuring the spacing between the rails in the front and back of the machine, and adjusting until they’re the same.       Use four Slot Nuts and four M5x8mm screws to loosely secure the Staging Plate to the frame.     Adjust the Staging Plate so that it is exactly 95mm away from the Front Left LegFDM-0001 and Front Right LegFDM-0002, then tighten it into place. This will be important for using the OpenPnP configuration provided for the machine. See below for how to measure the distance properly.     Tighten the four M3x16mm screws, two on either Y Gantry assemblyFDM-0005 and FDM-0008, so that the lower rollers are snug against the extrusion and ensure that the top rollers run well in their slots, too. Make sure that there’s no play or wiggle in the fit, but don’t over-tighten to the point of increasing resistance to rolling. The gantry should move easily, but not loosely.     Lastly, tighten the bolts that run through the bottom rollers to lock in the tension setting.\n  ","categories":"","description":"Mounting the Y Gantry subassembly to the frame of the machine\n","excerpt":"Mounting the Y Gantry subassembly to the frame of the machine\n","ref":"/docs/mechanical-assembly/mount-y-to-frame/","tags":"","title":"Mounting the Y Gantry to the Frame"},{"body":"Now we need to tell OpenPnP how far the nozzle is away from the center point of the top camera. OpenPnP has a built in “wizard” to help set this offset, so we’ll use that to help us do it. You can read the OpenPnP docs about this step here.\nNOTE: OpenPnP has some new methods of calibration using a secondary fiducial at a different Z height, and a small piece of paper. If you’d like to explore this method of calibration, you can find the OpenPnP docs about this process here. This process requires making and installing a calibration rig, 3D Units per Pixel calibration, and Advanced Camera Calibration.\n Select your nozzle in the device tree, and click on the Offset Wizard menu option. Leave the Include Z? box unchecked. Read the instructions that OpenPnP provides in this window.     You can follow OpenPnP’s instructions using putty or flour, or you can use your homing fiducial. The rest of this page explains how to do this process with your homing fiducial.\n  Using an N045 nozzle tip, jog the nozzle so that it is just barely touching the datum board, and perfectly centered over the homing fiducial. We recommend looking for the shiny edge of the gold fiducial poking out from under the nozzle tip to determine if you’ve centered it correctly.\n       Now, click the Store nozzle mark position button.    It’s important that you don’t navigate away from the nozzle menu in the device tree during this; it’ll wipe your stored nozzle mark position. Now, jog the nozzle up, and jog the top camera to the homing fiducial. Center it exactly on the fiducial, and click the Calculate nozzle offset button. Hit the Apply button in the bottom right. You’ve now stored the nozzle offset!    ","categories":"","description":"Calibrating the offset of the nozzle from the top camera\n","excerpt":"Calibrating the offset of the nozzle from the top camera\n","ref":"/openpnp/calibration/nozzle-offset/","tags":"","title":"Nozzle Offset Calibration"},{"body":"With a complete frame assembled, we can now route the GT2 timing belt that makes everything move!\n   Qty Part     1 GT2 Timing Belt   4 FDM-0027 (Belt Clamp)   8 M5x10 machine screw      We’ll start with the Y axis. If you’d like to precut your belt instead of routing the entirety of it through the machine, you can cut two 1400mm lengths for the Y axis motors. To help guide the belt through the openings in the prints, bend it backwards as shown below so that the belt has a curve to it.       Take your length of GT2 belt and stick it inside the extrusion (smooth side facing outward), behind the Y GantryFDM-0005 as shown below. Getting the belt to come out of the slot in the Y axis gantry can be difficult. Try using a small allen wrench with a ball tip to guide the belt out of the hole. Or, attach a twist tie to the end of the belt and guide that out the hole instead. When you’re done, the belt should be coming out of the hole on the side closest to the front of the machine.           Using 4 M5x10mm machine screws and 2 Belt ClampsFDM-0027 on the Y GantryFDM-0005, slide the belt underneath the Belt ClampsFDM-0027 and tighten them down with the GT2 belt flush with the edge of the Y GantryFDM-0005.\n  Now, take the other end of your belt and feed it through the Front Right LegFDM-0002. Guide it through and around the idler in the Belt Tension ArmFDM-0037, and feed it back through the other side of the Front Right LegFDM-0002 as shown below.       Continue to feed your belt along the inner side of the aluminum extrusion. Pass behind the Y Gantry SupportFDM-0008—between it and the aluminum extrusion.\n  Feed the belt through the inner side of the Back Right LegFDM-0004. Then loop the belt around the GT2 pulley on the stepper motor and feed it through the outer side of the Back Right LegFDM-0004.     Run the belt along the outer side of the aluminum extrusion. Take the end and feed it through the other opening of the Y gantry, like we did in step 1. Feed the end between the Y gantry and the Belt ClampsFDM-0027. Make sure the belt tensioner on the front leg is completely unscrewed, meaning it’s angled as close to the leg as it can be. This will give us the most possible stroke to tension the belt in the next step.\n  Pull on the belt with one hand, while holding the Y gantry steady with the other. Getting it generally taught is preferable, but don’t worry about getting it perfect; we’ll tension it correctly next. Push down on the belt clamp to hold the belt in place, and tighten the two screws to clamp it down. Cut the belt with at least 20mm remaining out the back side of the Y gantry.\n  Now we can tension the belt. Slowly tighten in the M3 screw on the belt tensioner to increase the belt tension. Pulling back on the belt tensioner arm should be difficult, but possible. A tug should result in only a 2mm deflection.\n  Perform the same steps on the left side Y axis.     We’re going to do the exact same operation for the X axis, but with one small thing to keep in mind: when looking at the back of the machine, start by clamping the belt on the right side of the X gantry (the side closest to the motor). This way, the excess belt will be sticking out of the X gantry on the side opposite of the limit switch, and prevent a problem with homing. You can precut a 1500mm strip of belt for the X axis or just use the rest of your belt and trim the excess.     ","categories":"","description":"Attaching and tensioning belts for the X and Y gantries\n","excerpt":"Attaching and tensioning belts for the X and Y gantries\n","ref":"/docs/mechanical-assembly/attaching-belts/","tags":"","title":"Attaching Belts"},{"body":"Now that we know the offset from the top camera to the nozzle, we can use the nozzle to set our bottom camera position.\n Select the bottom camera in the device tree. Click on the Position menu tab. Click on the icon with the red nozzle in blue circle (shown below) to jog the nozzle to the bottom camera position.    The nozzle will now move to be pretty close to the bottom camera inspection location, but it likely won’t be exact. It’s also possible that the tip of the nozzle is not in focus from the fisheye calibration step; adjust the bottom camera focus by turning the lens until the nozzle tip is sharp and in focus.    Tip You’ll notice that the Z height of the bottom camera position is at 61mm. That’s the height that we lift the nozzle to for vision operations so that we can get larger components into the field of view. 61mm is not hard-coded anywhere; you can make it a smaller number if you don’t need bottom vision on larger parts that require a bigger field of view. Just make sure that your bottom camera’s focus matches the Z height of your bottom camera position, and you’re all set.   Jog the nozzle to be perfectly centered over the bottom camera, and click on the blue nozzle icon to capture the position (see image below). Your bottom camera position is now saved!       ","categories":"","description":"Setting the position of your bottom camera\n","excerpt":"Setting the position of your bottom camera\n","ref":"/openpnp/calibration/bottom-camera-position/","tags":"","title":"Bottom Camera Position"},{"body":"Throughout the course of a job, you will find that you need multiple different size nozzle tips to pick different sized parts. You can always have OpenPnP prompt you to do this manually, but there’s a feature for automatic nozzle swapping that can just do it for you! In this optional step, we’ll set it up. Perform the following steps for each of the nozzle tips you’d like to enable it for. We recommend reading the OpenPnP Wiki page about this as well. Before starting, put the labeled nozzle tips into the holder in their respective labeled slots. Also make sure to lubricate the end of your nozzle holder with the lubrication packet included with your nozzles. It helps to insert the nozzle holder into all of the nozzle tips multiple times in order to break in the rubber O-rings, and lubricate the inside of the nozzle tips.\n  Select the nozzle tip you’re setting up under the Nozzle Tips menu in the device tree. Select the Tool Changer tab.\n  Now we can start capturing positions. The way automatic nozzle changing works is by replaying four position commands either forward or backward, to either load or unload a nozzle tip, respectively. We’re going to start with the last position, because it’s easiest for getting our Z height correct.\n  Jog your nozzle with the relevant nozzle tip loaded to just in front of your nozzle rack, in front of the slot for that nozzle tip. Adjust the Z height until it’s clear it’ll slide into the rack. Also ensure that it’s aligned in the Y axis so that only a X movement would be necessary to slot it into place. Capture the nozzle position for the Last Location.\n  Now we’re going to slowly jog the nozzle tip into the nozzle rack. Make sure you’re only jogging in the X axis for a clean action. Jog by increments of 0.1mm until you see the nozzle tip pop completely into place. Try to ensure there’s no lateral strain on the nozzle holder. If there is, we’ll see this in a later step and can correct it then. Capture the Third Location nozzle position.\n  The next position is for making sure that the nozzle tip is completely seated on the CP40 holder during insertion. Jog the Z axis down two millimeters. This is not a hard and fast value, if you find that a larger or smaller value gets the nozzle tip seated completely, feel free to use that value instead. The spring in the CP40 holder will take up these few millimeters. Capture the Second Location nozzle position.\n  Now jog the Z axis up 30 millimeters. This is the clearance position where the nozzle holder is getting ready for the plunge. Capture the First Location nozzle position.\n  You can now play through the positions by clicking on the “move nozzle to position” buttons in order. Tune any values in the fields as necessary to ensure you get a clean and straight insertion.\n  Now that your positions are set, you can enable automatic tool changing in OpenPnP. You can find this checkbox as shown in the image below.\n    If you’d like to clone these positions for every nozzle tip in the rack, you can use the “Cloning Settings” section in the OpenPnP docs to help you.  ","categories":"","description":"Calibrating automatic toolchanger movements\n","excerpt":"Calibrating automatic toolchanger movements\n","ref":"/openpnp/calibration/auto-toolchanger/","tags":"","title":"Automatic Toolchanger Calibration"},{"body":"We now have the main structure of the machine assembled! Now we’ll mount some components to the bottom of the staging plate.\nOverview Refer to the images below for referencing where to mount parts on the staging plate.\n     Soldering Pump    Qty Part     1 Vacuum Pump   1 Vacuum Pump Wire (Labeled “P1”)   2 Heatshrink (small)    Some LumenPnP kits shipped with a pump that had its connector pre-soldered to it. If your pump is not pre-soldered, follow along here to prepare your pump.\n  Gather your Pump, the pump wire (labeled “P1”), and two lengths of heatshrink.     Slip the heatshrink over the two exposed leads of the wire.     Wrap the red wire around the left lead as shown in the image below. Wrap the black wire around the right lead.     Solder both wires to the pump leads. The polarity does not matter.     Slip the heat shrink over the solder joints and motor lead. Use a hot air gun, lighter, or other heat source to shrink the heatshrink.       Pump mount    Qty Part     1 FDM-0025 (Pump Mount)   4 M3 Hex Nuts   2 Rubber Band   1 Vacuum Pump   2 M3x10 machine screw    The first thing we’ll mount to the staging plate is the Pump MountFDM-0025. This print suspends the pump using two rubber bands to ensure none of the vibration of the pump is transferred into the frame.\n  Start by press-fitting M3 nuts into the side recesses in the Pump MountFDM-0025.     Now we’ll mount the pump in the Pump MountFDM-0025 using a couple rubber bands. Start by grabbing the rubber band with both hands, giving it a half twist, and folding it over on itself, making two loops.         Now stretch each rubber band over each pair of pegs on the Pump MountFDM-0025. Guide the pump between each pair of bands so that it’s suspended in the Pump MountFDM-0025.         Mount the Pump MountFDM-0025 to the staging plate using two M3 x 10mm screws in the location shown below.       Valve mount    Qty Part     1 FDM-0042 (Valve Mount)   1 Blowoff Valve   4 M3 Hex Nut   6 M3x8 machine screw    Now we’ll attach the Valve MountFDM-0042 to the staging plate.\n Press fit four M3 nuts into the recesses in the Valve MountFDM-0042.     Use two M3x8mm screws to attach the valve to the Valve MountFDM-0042 as shown below.     Use four M3x8mm screws to mount the Valve MountFDM-0042 to the staging plate in the location shown below.       Pneumatic Y splitter mount    Qty Part     1 M3x30 machine screw   1 M3 Hex nut   1 Y Splitter    Use an M3x30mm screw and an M3 nut to mount the pneumatic Y splitter to the staging plate as shown below.       Bottom camera mount    Qty Part     1 FDM-0019 (Up Light Mount)   1 FDM-0020 (Up Camera Mount)   1 Up Ring Light PCB   1 USB Camera (Bottom)   4 M3x30 machine screw   4 M3 Hex Nut   4 M2.5x8 machine screw     Stack the Up Light MountFDM-0019, the Up Ring Light, and the Up Camera MountFDM-0020 together. (Note: the Up Ring Light is not pictured here)     Use four M3x30mm screws and four M3 nuts to attach the stack to the staging plate. The cable connector for the Up Ring Light should be facing down and to the left, away from the valve.     Loosen the screw on the camera so that we can adjust the camera’s focus later. Even after doing so, it still might be difficult to rotate the lens. A light grip with some pliers and a gentle twist can help break the lens free and make it easier to rotate by hand. Make sure your lens is loose before mounting it.\n  Use four M2.5x8mm screws to mount the camera into the Up Camera MountFDM-0020 by using the inner set of four holes and tapping directly into the plastic. Match the orientation to the image below.       Nozzle Holder    Qty Part     1 FDM-0024 (Nozzle Holder)   3 M3 Hex Nut   3 M3x8 machine screw     Slide three M3 nuts into the slots in the back of the Nozzle HolderFDM-0024.     Using three M3x10mm machine screws, tighten the Nozzle HolderFDM-0024 on top of the staging plate as shown below. Note: we will install the datum board later, ignore it in the photo below.         ","categories":"","description":"Mounting components to the staging plate \n","excerpt":"Mounting components to the staging plate \n","ref":"/docs/mechanical-assembly/populating-staging-plate/","tags":"","title":"Populating the Staging Plate"},{"body":"Now that you’ve got your Index built up, it’s time to test it!\nWhat you’ll need  Computer CNCjs Your completed Index USB-C cable  ","categories":"","description":"How to test your Index after building","excerpt":"How to test your Index after building","ref":"/docs/testing/","tags":"","title":"Testing"},{"body":"  #td-cover-block-0 { background-image: url(/featured-background_hu1d2bd6459b468407bedba057a8d6aa60_2903339_960x540_fill_q75_catmullrom_top.jpg); } @media only screen and (min-width: 1200px) { #td-cover-block-0 { background-image: url(/featured-background_hu1d2bd6459b468407bedba057a8d6aa60_2903339_1920x1080_fill_q75_catmullrom_top.jpg); } }  LumenPnP Documentation Docs   YouTube   An open source pick and place for mid-scale manufacturing\n\n          Follow us on YouTube! LumenPnP development is led by Stephen Hawes on his YouTube channel.\nRead more …\n   Contributions welcome! We do a Pull Request contributions workflow on GitHub. New users are always welcome!\nRead more …\n   Join us on Discord! For discussion of latest features etc.\nRead more …\n    ","categories":"","description":"","excerpt":"  #td-cover-block-0 { background-image: …","ref":"/","tags":"","title":"LumenPnP"},{"body":"","categories":"","description":"","excerpt":"","ref":"/search/","tags":"","title":"Search Results"}]